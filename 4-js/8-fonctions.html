<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>8- Les fonctions</title>
</head>
<body>
    <h1>Les fonctions</h1>
    <p>
        Une fonction est une suite d'instructions à laquelle on donne un nom, afin de pouvoir l'exécuter
        à différents endroits du code sans avoir à réécrire ces instructions.
        Une fonction peut avoir des paramètres d'entrée, et une valeur de retour
    </p>
    <script>
        function add(nb1, nb2) {
            var sum = nb1 + nb2;
            return sum; // retourner une valeur pour pouvoir l'utiliser là où on appelle la fonction
        }

        add(10, 14); // valeur de retour non utilisée

        document.write(add(33, 1));
        var result = add(33, 1);
        if (result > 30) {

        }

        function reverseWord(word) {  // word : variable portée locale : n'existe que dans la fonction
            var reversedWord = ""; // reversedWord : variable portée locale : n'existe que dans la fonction
            for (var i = 0; i < word.length; i++) {
                reversedWord = word[i] + reversedWord;
            }

            return reversedWord;
        }

        var sentence = "Et si l'arôme des bottes révèle madame, le verset t'obsède, moraliste";
        var reversedWord = reverseWord(sentence);
        document.write("<p>" + reversedWord + "</p>");

        /**
         * Exercices
         * exo 1 : écrire une fonction qui réalise une soustraction entre deux nombres passés en paramètre
         * et retourne le résultat de cette soustraction. Utilisez la fonction dans un script
         *
         * exo 2 : créer une fonction qui retourne si oui ou non un mot passé en paramètre
         * est un palindrome. Utilisez la fonction dans le script principal
         *
         * exo 3 : créer une fonction qui prend un tableau en paramètre et qui retourne un nouveau
         * tableau dont les éléments sont les mêmes que ceux du tableau en paramètre mais dans l'ordre inverse.
         * ["coucou", "test", "chou"]
         * ["chou", "test", "coucou"]
         * Utilisez la fonction dans un script
         */

        // exo 1
        function moins(nombre1, nombre2) {
            var difference = nombre1 - nombre2;
            return difference;
        }

        var chiffre1 = 18;
        var chiffre2 = 10;
        var resultat = moins(chiffre1, chiffre2);

        // exo 2
        function isPalin(word) {
            var i = 0;
            var palindrome = true;
            while (palindrome && i <= Math.floor(word.length / 2)) {
                if (word[i] != word[word.length-1-i]) {
                    palindrome = false;
                }
                i++;
            }

            return palindrome;
        }

        var mot = "kayak";
        var result = isPalin(mot);
        console.log(result);

        var userWord = prompt("Saisir un mot pour savoir c'est un palin");
        var result2 = isPalin(userWord);
        console.log(result2);

        // exo 3
        function reverseTab(tab) {
            var reversedTab = [];

            for (var i = 0; i < tab.length; i++) {
                reversedTab[i] = tab[tab.length-1-i];
            }

            return reversedTab;
        }

        function reverseTabJoshua(tableau) {
            var reversedTab = [];

            for (var i = tableau.length-1; i >= 0; i--) {
                reversedTab.push(tableau[i]);
            }

            return reversedTab;
        }

        var element;
        var tab = [];
        while (element != -1) {
            element = prompt("Entrez les éléments (-1 pour stop)");
            if (element != -1) {
                tab.push(element);
            }
        }
        console.log(tab);

        tab = reverseTab(tab);
        console.log(tab);
        for (var i = 0; i < tab.length; i++) {
            document.write("<p>" + i + " - " + tab[i] + "</p>");
        }


        // mettre une fonction dans une variable, pour avoir une référence à cette fonction

       var myTestFunction = function(element) {
            alert(element);
        };
        console.log(myTestFunction);
        console.log(typeof myTestFunction);

        tab.forEach(myTestFunction);


    </script>
</body>
</html>