<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Introduction jQuery</title>
    <style>
        .dynamic-div {
            border: 1px solid orange;
            padding: 20px;
            color: green;
        }
    </style>
</head>
<body>
    <h1>Création Element jQuery</h1>

    <div id="parent" class="container">
    </div>

    <button id="btn-div">Ajouter un div</button>
    <button id="btn-img">Ajouter une image</button>

    <div id="parent-text" style="border:1px solid;margin: 20px 0;">

    </div>

    <div id="parent-html" style="border:1px solid;margin: 20px 0;">

    </div>

    <ul>
        <li><span>Puce 1</span></li>
        <li><span>Puce 2</span></li>
        <li><span>Puce 3</span></li>
    </ul>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>

    <script>
        // récupérer le bouton ajouter un div
        let btnDiv = $("#btn-div");

        // ajouter un div dynamiquement lorsque l'on clique sur le bouton "ajouter un div"
        btnDiv.on("click", function() {
            // création en mémoire d'un élément HTML div
            let newDiv = $("<div>");

            // on applique juste une classe sur l'élément, le css fera le reste
            newDiv.addClass("dynamic-div");
            newDiv.html("<b>Coucou en gras</b>");

            // écouter des événements
            newDiv.on("click", function() {
                $(this).remove();
            });

            // insérer le nouvel élément dans la page : choisir le parent
            $("#parent").append(newDiv);
        });

        // récupérer le bouton ajouter une image
        let btnImage = $("#btn-img");

        // ajouter un image dynamiquement lorsque l'on clique sur le bouton "ajouter un image"
        btnImage.on("click", function() {
            // création en mémoire d'un élément HTML img
            let newImage = $("<img>");

            // mettre des valeurs pour les propriétés qui nous intéresse
            newImage.attr("src",  "3.jpg");
            newImage.attr("alt", "c'est un trois");

            // écouter des événements
            newImage.on("click", function() {
                this.remove();
            });

            // insérer l'image dans la page
            $("#parent").append(newImage);
        });


        // méthodes permettant d'insérer/ déplacer uun/des éléments dans le dom
        /*
         * Ajouter du contenu textuel dans le DOM
         */
        let parentText = $("#parent-text");
        // équivalent de ça
        // parentText.html(parentText.html() + "coucou");
        // on peut faire ça :
        parentText.append("coucou");

        // insérer en première position
        parentText.prepend("Inséré en première position");

        // juste avant : before
        // juste après : after
        parentText.before("texte juste avant le div text");
        parentText.after("texte juste après le div text");

        /*
        Insérer un élément
         */
        let parentHtml = $("#parent-html");

        // insérer en dernière position
        let p = $("<p>");
        p.text("Texte du p");

        parentHtml.append(p);

        // insérer en première position
        let p2 = $("<p>");
        p2.text("Texte du p2");

        parentHtml.prepend(p2);

        // insérer un p juste avant
        let p3 = $("<p>");
        p3.text("Texte du p3");

        parentHtml.before(p3);

        // déplacer le p3
        parentHtml.after(p3);

        // dans l'autre sens
        let p4 = $("<p>Paragraphe 4</p>")
        p4.appendTo(parentHtml);
        p4.prependTo(parentHtml);
        p4.insertBefore(parentHtml);
        p4.insertAfter(parentHtml);

        // remplacer un ou des élément par un autre
        let img = $("<img>");
        img.attr("src", "https://img.20mn.fr/MEzQQoarRaWhDIOrosA6dQ/960x614_20mn-62173.jpg");
        img.css("width", "150px");

        p3.replaceWith(img);

        // sélectionner tous les spans dans des lis
        img = $("<img>");
        img.attr("src", "https://img.20mn.fr/MEzQQoarRaWhDIOrosA6dQ/960x614_20mn-62173.jpg");
        img.css("width", "150px");
        let spans = $("li span");
        spans.replaceWith(img);


    </script>
</body>
</html>